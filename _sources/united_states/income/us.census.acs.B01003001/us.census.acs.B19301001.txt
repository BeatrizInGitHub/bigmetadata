.. _us.census.acs.B19301001:

Per Capita Income in the past 12 Months
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Per capita income is the mean income computed for every man, woman, and child in a particular group. It is derived by dividing the total income of a particular group by the total population.











.. tabs::



   
   .. tab:: {"tab_name": "Weighted by Total Population "}

      Update a field of a table with an estimate of "Per Capita Income in the past 12 Months" for a polygon
      using a combination of weighting by area and Total Population.

      .. code-block:: postgresql

          WITH data AS (
            SELECT cartodb_id AS id, the_geom FROM <table_to_update>
          ),
          meta AS (
            SELECT OBS_GetMeta(ST_SetSRID(ST_Extent(the_geom), 4326),
            '[{"numer_id": "us.census.acs.B19301001",
              "denom_id": "us.census.acs.B01003001"}]'
            , 1, 1) meta
          FROM data)
          UPDATE <table_to_update> SET <field_to_update> = (data->0->>'value')::Numeric
          FROM OBS_GetData(
                (SELECT ARRAY_AGG((the_geom, id)::geomval) FROM data),
                (SELECT meta FROM meta)) obs_data
          WHERE <table_to_update>.cartodb_id = obs_data.id

      Obtain an estimate of "Per Capita Income in the past 12 Months" for a polygon
      using a combination of weighting by area and Total Population.

      .. code-block:: postgresql

          WITH data AS (
            SELECT 1 AS id,
            ST_Buffer(ST_SetSRID(ST_Point(-73.9, 40.7), 4326), 0.01) the_geom
          ),
          meta AS (
            SELECT OBS_GetMeta(ST_SetSRID(ST_Extent(the_geom), 4326),
            '[{"numer_id": "us.census.acs.B19301001",
               "denom_id": "us.census.acs.B01003001"}]'
            , 1, 1) meta
          FROM data)
          SELECT id, (data->0->>'value')::Numeric AS income_per_capita_estimate_2015_2015
          FROM OBS_GetData(
                 (SELECT ARRAY_AGG((the_geom, id)::geomval) FROM data),
                 (SELECT meta FROM meta))

      

   




   .. tab:: {"tab_name": "Point"}

      Update a field of a table with the value of "Per Capita Income in the past 12 Months" for a point. The value will be from
      the densest boundary with this measure.

      .. code-block:: postgresql

          WITH data AS (
            SELECT cartodb_id AS id, the_geom FROM <table_to_update>
          ),
          meta AS (
            SELECT OBS_GetMeta(ST_SetSRID(ST_Extent(the_geom), 4326),
            '[{"numer_id": "us.census.acs.B19301001"}]'
            , 1, 1) meta
          FROM data)
          UPDATE <table_to_update> SET <field_to_update> = (data->0->>'value')::Numeric
          FROM OBS_GetData(
                (SELECT ARRAY_AGG((the_geom, id)::geomval) FROM data),
                (SELECT meta FROM meta)) obs_data
          WHERE <table_to_update>.cartodb_id = obs_data.id

      Obtain the value of "Per Capita Income in the past 12 Months" for a point. The value will be from
      the densest boundary with this measure.

      .. code-block:: postgresql

          WITH data AS (
            SELECT 1 AS id,
            ST_SetSRID(ST_Point(-73.9, 40.7), 4326) the_geom
          ),
          meta AS (
            SELECT OBS_GetMeta(ST_SetSRID(ST_Extent(the_geom), 4326),
            '[{"numer_id": "us.census.acs.B19301001"}]'
            , 1, 1) meta
          FROM data)
          SELECT id, (data->0->>'value')::Numeric AS income_per_capita
          FROM OBS_GetData(
                 (SELECT ARRAY_AGG((the_geom, id)::geomval) FROM data),
                 (SELECT meta FROM meta))









Boundaries
~~~~~~~~~~

.. raw:: html

  <table border="1" class="docutils">
  <thead valign="bottom">
  <tr class="row-odd"><th class="head">Boundary</th>
  <th class="head">Time (default is latest)</th>
  </tr>
  </thead>
  <tbody valign="top">


  
.. raw:: html

  <tr class="row-even"><td>

:ref:`us.census.tiger.school_district_secondary`

.. raw:: html

  </td>
  <td>

2015 - 2015

.. raw:: html

  </td>

  
.. raw:: html

  <tr class="row-even"><td>

:ref:`us.census.tiger.state_clipped`

.. raw:: html

  </td>
  <td>

2015 - 2015

.. raw:: html

  </td>

  
.. raw:: html

  <tr class="row-even"><td>

:ref:`us.census.tiger.puma_clipped`

.. raw:: html

  </td>
  <td>

2015 - 2015

.. raw:: html

  </td>

  
.. raw:: html

  <tr class="row-even"><td>

:ref:`us.census.tiger.county`

.. raw:: html

  </td>
  <td>

2015 - 2015

.. raw:: html

  </td>

  
.. raw:: html

  <tr class="row-even"><td>

:ref:`us.census.tiger.school_district_elementary`

.. raw:: html

  </td>
  <td>

2015 - 2015

.. raw:: html

  </td>

  
.. raw:: html

  <tr class="row-even"><td>

:ref:`us.census.tiger.school_district_elementary_clipped`

.. raw:: html

  </td>
  <td>

2015 - 2015

.. raw:: html

  </td>

  
.. raw:: html

  <tr class="row-even"><td>

:ref:`us.census.tiger.place_clipped`

.. raw:: html

  </td>
  <td>

2015 - 2015

.. raw:: html

  </td>

  
.. raw:: html

  <tr class="row-even"><td>

:ref:`us.census.tiger.congressional_district`

.. raw:: html

  </td>
  <td>

2015 - 2015

.. raw:: html

  </td>

  
.. raw:: html

  <tr class="row-even"><td>

:ref:`us.census.tiger.place`

.. raw:: html

  </td>
  <td>

2015 - 2015

.. raw:: html

  </td>

  
.. raw:: html

  <tr class="row-even"><td>

:ref:`us.census.tiger.congressional_district_clipped`

.. raw:: html

  </td>
  <td>

2015 - 2015

.. raw:: html

  </td>

  
.. raw:: html

  <tr class="row-even"><td>

:ref:`us.census.tiger.school_district_unified_clipped`

.. raw:: html

  </td>
  <td>

2015 - 2015

.. raw:: html

  </td>

  
.. raw:: html

  <tr class="row-even"><td>

:ref:`us.census.tiger.puma`

.. raw:: html

  </td>
  <td>

2015 - 2015

.. raw:: html

  </td>

  
.. raw:: html

  <tr class="row-even"><td>

:ref:`us.census.tiger.cbsa`

.. raw:: html

  </td>
  <td>

2015 - 2015

.. raw:: html

  </td>

  
.. raw:: html

  <tr class="row-even"><td>

:ref:`us.census.tiger.cbsa_clipped`

.. raw:: html

  </td>
  <td>

2015 - 2015

.. raw:: html

  </td>

  
.. raw:: html

  <tr class="row-even"><td>

:ref:`us.census.tiger.county_clipped`

.. raw:: html

  </td>
  <td>

2015 - 2015

.. raw:: html

  </td>

  
.. raw:: html

  <tr class="row-even"><td>

:ref:`us.census.tiger.state`

.. raw:: html

  </td>
  <td>

2015 - 2015

.. raw:: html

  </td>

  
.. raw:: html

  <tr class="row-even"><td>

:ref:`us.census.tiger.school_district_secondary_clipped`

.. raw:: html

  </td>
  <td>

2015 - 2015

.. raw:: html

  </td>

  
.. raw:: html

  <tr class="row-even"><td>

:ref:`us.census.tiger.school_district_unified`

.. raw:: html

  </td>
  <td>

2015 - 2015

.. raw:: html

  </td>

  

.. raw:: html

  </tr>
  </tbody>
  </table>




Related columns
~~~~~~~~~~~~~~~
    
      * :ref:`us.census.acs.B01003001`
    



Source
~~~~~~
    
      * :ref:`us.census.acs.acs`
    



License
~~~~~~~
    
      * :ref:`tags.no-restrictions`
    